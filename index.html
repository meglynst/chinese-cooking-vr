<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Chinese Cooking • A-Frame</title>
    <meta name="description" content="Chinese Cooking • A-Frame">
    <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
<!--     rawgit from https://github.com/Utopiah/googlepoly-load-component -->
    <script src="https://rawgit.com/Utopiah/googlepoly-load-component/master/googlepoly-load-component.js"></script>
    
    <script>
      AFRAME.registerComponent('handle-events', {
        init: function () {
          var el = this.el;  // <a-box>
          el.addEventListener('mouseenter', function () {
            el.setAttribute('scale', {x: 1.25, y: 1, z: 1});
            el.setAttribute('color','yellow');
            });
          el.addEventListener('mouseleave', function () {
            el.setAttribute('scale', {x: 1, y: 1, z: 1});
            el.setAttribute('color','red');
          });
          el.addEventListener('click', function () {
            let menu = document.querySelector('#menu');
            menu.setAttribute('visible', 'false');
            let food = document.querySelector("#food");
            food.setAttribute('visible', 'true');
            let recipe = document.querySelector('#recipe');
            recipe.setAttribute('visible','true');
          });
        } 
      });
    </script>
  </head>
  <body>
        <!-- Cozy Kitchen model by Lachlan Sleight from https://poly.google.com/view/6bOTntCJyyK -->
<!-- AIzaSyB0lUTqHcoNbVmAXbEEy21Q_wwhzJX7OKU -->

  <a-scene background="color: #ADF1FF">
    <a-sound src="src: url(https://ia601909.us.archive.org/7/items/PrayForEarthquake/Tea%20Ceremony.mp3)" autoplay="true" position="0 2 -10"></a-sound>
<!--     <a-sound src="src:url(https://www.fesliyanstudios.com/sp.php?i=/389.mp3); on: click" position="2 2 -5"></a-sound>  -->
    <a-camera><a-cursor></a-cursor></a-camera>
    
    <a-entity camera look-controls>
          <a-entity id="recipe" geometry="primitive: plane; height: 4; width: 2" position="3.5 1.5 -3" material="color: gray; opacity: 0.5" visible="false">
                <a-text value="TOMATO EGG" position="-0.75 1.5 0" color="black"></a-text>
<!--             img source: https://www.dreamstime.com/illustration/cutting-tomato.html -->
                <a-image src="https://cdn.glitch.com/912a80cf-4b93-467e-bd04-ccb206a7159a%2Ftomato%20cut.jpg?v=1571623360635" position="0 0 0.01"></a-image>
                <a-text value="1. Cut tomato" position="-0.75 -1.5 0" color="black"></a-text>
          </a-entity>
    </a-entity>
 
      <!-- Kitchen v2 by Jared Bitner : https://poly.google.com/view/dC70BOz1Ju- -->
      <a-entity position="0.25 -0.75 -10" scale="10 10 10" gpoly="polyid:dC70BOz1Ju-; API_KEY:AIzaSyB0lUTqHcoNbVmAXbEEy21Q_wwhzJX7OKU;"></a-entity>
      <a-entity id="food" visible="false">
          <a-entity id="bowl" position= "1.2 -1.5 -3.5" scale="0.013 0.013 0.013" gpoly="polyid:1EwfmPQ-8ur; API_KEY:AIzaSyB0lUTqHcoNbVmAXbEEy21Q_wwhzJX7OKU;"></a-entity>
          <a-entity id="egg1" position= "2.2 -1.5 -4" scale="0.004 0.004 0.004" gpoly="polyid:7FhujGTNk0I;API_KEY:AIzaSyB0lUTqHcoNbVmAXbEEy21Q_wwhzJX7OKU;"></a-entity>
          <a-entity id="egg2" position= "2.6 -1.5 -4" scale="0.004 0.004 0.004" gpoly="polyid:7FhujGTNk0I;API_KEY:AIzaSyB0lUTqHcoNbVmAXbEEy21Q_wwhzJX7OKU;"></a-entity>
          <a-entity id="salt" position= "3.5 -1.5 -5" scale="0.09 0.09 0.09" gpoly="polyid:dM9KguJKo-p; API_KEY:AIzaSyB0lUTqHcoNbVmAXbEEy21Q_wwhzJX7OKU;"></a-entity>
          <a-entity id="tomato" scale ="0.01 0.01 0.01" position="2 0.25 -4" rotation="-90 0 0" gpoly="polyid: dmzbb8UisNv; API_KEY: AIzaSyB0lUTqHcoNbVmAXbEEy21Q_wwhzJX7OKU;" animation="property: object3D.position.y; to: 1.1; dir: alternate; dur: 2000; loop: true"></a-entity>
          <a-sphere id="glow" position="2 0.25 -4" radius="0.5" color="#FFC526" opacity="0.2" animation="property: object3D.position.y; to: 1.1; dir: alternate; dur: 2000; loop: true"></a-sphere>
      </a-entity>
        
      <a-entity id="menu">
          <a-plane border="sides: 4; radius: 25" position="2 0.75 -5" opacity="0.7" rotation="0 0 0" width="3" height="1" color="red" handle-events>
               <a-text value="Fried Rice" position="-0.4 0 0" color="black"></a-text>
          </a-plane>
          <a-plane class="menu-selection" position="2 2 -5" opacity="0.7" rotation="0 0 0" width="3" height="1" color="red" sound="src:url(https://cdn.aframe.io/360-image-gallery-boilerplate/audio/click.ogg); on: click" handle-events>
              <a-text value="Tomato Egg" position="-0.55 0 0" color="black"></a-text>
          </a-plane>
          <a-plane position="2 3.25 -5" opacity="0.7" rotation="0 0 0" width="3" height="1" color="red" handle-events>
              <a-text value="Ramen" position="-0.4 0 0" color="black"></a-text>
        </a-plane>
      </a-entity>
    </a-scene>
  </body>
</html>